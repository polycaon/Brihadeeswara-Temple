---
import Layout from '../../layouts/Layout.astro';
import Hero from '../../components/Hero.astro';
import SectionTitle from '../../components/SectionTitle.astro';
import BlogCard from '../../components/BlogCard.astro';
import { getBlogPosts } from '../../lib/supabase';

const posts = await getBlogPosts();
---

<Layout 
  title="Temple News & Updates" 
  description="Latest news, events and updates from Brihadeeswara Temple"
>
  <Hero 
    title="News & Updates" 
    subtitle="Stay informed about the latest happenings at Brihadeeswara Temple"
    backgroundImage="https://t3.ftcdn.net/jpg/05/59/74/36/240_F_559743693_dAUFbSqvfH03wwPI8YmWWB5d9wc4yDJy.jpg"
    height="h-[40vh]"
  />
  
  <section class="py-16 bg-white">
    <div class="temple-container">
      <SectionTitle 
        title="Latest Articles"
        subtitle="Recent news and stories from the temple"
      />
      
      <div class="grid gap-6">
        {posts.map(post => (
          <BlogCard 
            title={post.title}
            url={`/news/${post.slug}`}
          />
        ))}
      </div>
    </div>
  </section>
</Layout>